(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[10],{493:function(n,e,t){"use strict";var i=t(0);e.a=function(){Object(i.useLayoutEffect)((function(){window.scrollTo(0,0)}),[])}},494:function(n,e,t){"use strict";t.d(e,"a",(function(){return o})),t.d(e,"d",(function(){return l})),t.d(e,"b",(function(){return u})),t.d(e,"c",(function(){return g}));var i=t(7),r=t(44);function a(){var n=Object(i.a)(["\n  query AuthUrl {\n    authUrl\n  }\n"]);return a=function(){return n},n}var o=Object(r.b)(a());function c(){var n=Object(i.a)(["\n  query User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\n    user(id: $id) {\n      id\n      name\n      avatar\n      contact\n      hasWallet\n      income\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          listing {\n            id\n            title\n            image {\n              url\n            }\n            address\n            price\n          }\n          checkIn\n          checkOut\n        }\n      }\n      listings(limit: $limit, page: $listingsPage) {\n        total\n        result {\n          id\n          title\n          image {\n            url\n          }\n          address\n          price\n        }\n      }\n    }\n  }\n"]);return c=function(){return n},n}var l=Object(r.b)(c());function d(){var n=Object(i.a)(["\n  query Listing($id: ID!, $bookingsPage: Int!, $limit: Int!) {\n    listing(id: $id) {\n      id\n      title\n      description\n      image {\n        url\n      }\n      host {\n        id\n        name\n        avatar\n        hasWallet\n      }\n      address\n      city\n      admin\n      country\n      location {\n        lat\n        lng\n      }\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          tenant {\n            id\n            name\n            avatar\n          }\n          checkIn\n          checkOut\n        }\n      }\n      bookingsIndex\n      price\n      guests\n      wifi\n      airCon\n      pool\n      parking\n    }\n  }\n"]);return d=function(){return n},n}var u=Object(r.b)(d());function s(){var n=Object(i.a)(["\n  query Listings(\n    $location: String\n    $filter: ListingsFilter!\n    $limit: Int!\n    $page: Int!\n  ) {\n    listings(location: $location, filter: $filter, limit: $limit, page: $page) {\n      region\n      location {\n        lat\n        lng\n      }\n      total\n      result {\n        id\n        title\n        image {\n          url\n        }\n        address\n        admin\n        country\n        location {\n          lat\n          lng\n        }\n        price\n      }\n    }\n  }\n"]);return s=function(){return n},n}var g=Object(r.b)(s())},633:function(n,e,t){"use strict";t.r(e);t(282);var i=t(95),r=(t(283),t(55)),a=(t(197),t(99)),o=t(160),c=t.n(o),l=t(81),d=t(198),u=t(33),s=t(0),g=t.n(s),p=t(73),b=t(86),m=t(45),f=t(90),h=t(53),x=t(102),j=t(494),v=t(493),w=t(111),O=t.n(w),y=t(7),k=t(8),E=t(5);function $(){var n=Object(y.a)(["\n  margin-left: -20px;\n"]);return $=function(){return n},n}function I(){var n=Object(y.a)(["\n  text-align: center;\n  font-size: 15px;\n  font-weight: 700;\n  color: ",";\n  line-height: 1;\n  a {\n    color: ",";\n    &:hover,\n    &:focus {\n      outline: none;\n      color: #008489d1;\n      text-decoration: none;\n    }\n  }\n"]);return I=function(){return n},n}function C(){var n=Object(y.a)(["\n  width: 57%;\n\n  @media only screen and (max-width: 1200px) {\n    width: 50%;\n  }\n\n  @media only screen and (max-width: 991px) {\n    display: none;\n  }\n\n  > div {\n    position: fixed;\n    width: 57%;\n    top: 0;\n    right: 0;\n\n    @media only screen and (max-width: 1200px) {\n      width: 50%;\n    }\n  }\n"]);return C=function(){return n},n}function z(){var n=Object(y.a)(["\n  color: ",";\n  font-size: 25px;\n  line-height: 30px;\n  margin-bottom: 45px;\n  margin-top: 10px;\n  @media only screen and (max-width: 1600px) {\n    font-size: 22px;\n  }\n  @media only screen and (max-width: 1440px) {\n    font-size: 20px;\n  }\n  @media only screen and (max-width: 1440px) {\n    font-size: 18px;\n  }\n"]);return z=function(){return n},n}function L(){var n=Object(y.a)(["\n  color: ",";\n  font-size: 45px;\n  line-height: 54px;\n  font-weight: 700;\n  margin-bottom: 0;\n  margin-top: 58px;\n  @media only screen and (max-width: 1600px) {\n    font-size: 38px;\n    line-height: 48px;\n  }\n  @media only screen and (max-width: 1440px) {\n    font-size: 32px;\n    line-height: 42px;\n  }\n  @media only screen and (max-width: 1200px) {\n    font-size: 28px;\n    line-height: 32px;\n  }\n"]);return L=function(){return n},n}function B(){var n=Object(y.a)(["\n  width: 43%;\n  padding: 81px;\n\n  @media only screen and (min-width: 1441px) {\n    padding: 130px;\n  }\n\n  @media only screen and (max-width: 1200px) {\n    width: 50%;\n  }\n\n  @media only screen and (max-width: 991px) {\n    padding: 56px;\n    width: 80%;\n    margin: 0 auto;\n  }\n\n  @media only screen and (max-width: 767px) {\n    width: 100%;\n  }\n\n  @media only screen and (max-width: 480px) {\n    padding: 30px;\n  }\n\n  .field-container {\n    .ant-form-item {\n      .ant-form-item-control-wrapper {\n        .ant-form-item-control {\n          .ant-form-item-children {\n            input {\n              border-radius: 3px;\n              border: 1px solid ",";\n              height: 57px;\n              padding: 6px 20px;\n              color: ",";\n              font-size: 15px;\n              &::placeholder {\n                color: ",";\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .signin-btn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 3px;\n    height: 57px;\n    font-size: 17px;\n    font-weight: 700;\n    border-color: ",";\n    background-color: ",";\n\n    svg {\n      width: 18px;\n      height: 18px;\n      margin-right: 2px;\n    }\n\n    &::after {\n      content: none;\n    }\n\n    &:hover,\n    &:focus {\n      border-color: #008489d1;\n      background-color: #008489d1;\n    }\n  }\n\n  .ant-divider {\n    margin: 41px 0 !important;\n    .ant-divider-inner-text {\n      font-size: 15px;\n      font-weight: 700;\n      color: ",";\n    }\n  }\n\n  .ant-btn {\n    &.facebook-btn,\n    &.github-btn,\n    &.firebase-btn,\n    &.google-btn {\n      height: 57px;\n      border-radius: 3px;\n      font-size: 15px;\n      font-weight: 700;\n      &::after {\n        content: none;\n      }\n    }\n\n    &.facebook-btn {\n      border-color: ",";\n      background-color: ",";\n    }\n\n    &.github-btn {\n      border-color: ",";\n      background-color: ",";\n    }\n\n    &.firebase-btn {\n      border-color: ",";\n      background-color: ",";\n    }\n\n    &.google-btn {\n      border-color: ",";\n      background-color: ",";\n    }\n  }\n"]);return B=function(){return n},n}function P(){var n=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n"]);return P=function(){return n},n}var S=k.d.div(P()),q=k.d.div(B(),Object(E.a)("border.3","#E6E6E6"),Object(E.a)("text.0","#2C2C2C"),Object(E.a)("text.2","#777777"),Object(E.a)("primary.0","#008489"),Object(E.a)("primary.0","#008489"),Object(E.a)("text.2","#777777"),Object(E.a)("color.7","#3b5998"),Object(E.a)("color.7","#3b5998"),Object(E.a)("color.14","#00ACEE"),Object(E.a)("color.14","#00ACEE"),Object(E.a)("color","#FFCB2B"),Object(E.a)("color","#FFCB2B"),Object(E.a)("color.10","#dd4b39"),Object(E.a)("color.10","#dd4b39")),F=k.d.h2(L(),Object(E.a)("text.0","#2C2C2C")),U=k.d.p(z(),Object(E.a)("text.2","#777777")),W=k.d.div(C()),A=(k.d.p(I(),Object(E.a)("text.2","#777777"),Object(E.a)("primary.0","#008489")),k.d.div($())),R=S;e.default=function(){Object(v.a)();var n=Object(b.a)(),e=Object(s.useContext)(f.a),t=e.viewer,o=e.setViewer,w=Object(s.useState)({googleBtnLoading:!1}),y=Object(u.a)(w,2),k=y[0],E=y[1],$=Object(b.b)(x.e,{onCompleted:function(n){n&&n.logIn&&(o(n.logIn),sessionStorage.setItem("token",n.logIn.token),Object(h.b)("You've successfully logged in!"))}}),I=Object(u.a)($,2),C=I[0],z=I[1],L=z.data,B=z.loading,P=z.error,S=function(){var e=Object(d.a)(c.a.mark((function e(){var t,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(Object(l.a)({},k,{googleBtnLoading:!0})),setTimeout((function(){E(Object(l.a)({},k,{googleBtnLoading:!1}))}),2e3),e.prev=2,e.next=5,n.query({query:j.a});case 5:t=e.sent,i=t.data,window.location.href=i.authUrl,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),T=Object(s.useRef)(C);if(Object(s.useEffect)((function(){var n=new URL(window.location.href).searchParams.get("code");n&&T.current({variables:{input:{code:n}}})}),[]),t.id&&t.avatar)return g.a.createElement(p.a,{to:"/user/".concat(t.id)});if(B)return g.a.createElement(m.k,{message:"Logging you in..."});if(L&&L.logIn){var _=L.logIn.id;return g.a.createElement(p.a,{to:"/user/".concat(_)})}var D=P?g.a.createElement(m.d,{description:"Sorry! We weren't able to log you in. Please try again later!"}):null;return g.a.createElement(R,null,D,g.a.createElement(q,null,g.a.createElement(A,null,g.a.createElement(m.l,{withLink:!0,linkTo:"/",src:O.a,title:"CouchNight"})),g.a.createElement(F,null,"Welcome Back"),g.a.createElement(U,null,"Please log into your account"),g.a.createElement(i.a,{gutter:16,style:{marginBottom:"37px"}},g.a.createElement(r.a,{span:12},g.a.createElement(a.a,{loading:k.googleBtnLoading,className:"google-btn",type:"primary",style:{width:"100%",marginBottom:16},size:"large",onClick:S},"Sign In with Google")))),g.a.createElement(W,null,g.a.createElement("div",{style:{backgroundImage:"url(".concat("https://res.cloudinary.com/dj7nklpkt/image/upload/v1586448495/StockSnap_GCZ32Y9RLS_1_irurbq.jpg",")"),backgroundPosition:"center center",height:"100vh",backgroundSize:"cover"}})))}}}]);
//# sourceMappingURL=10.45ec3d8d.chunk.js.map