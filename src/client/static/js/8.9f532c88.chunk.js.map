{"version":3,"sources":["lib/hooks/useScrollToTop.js","lib/graphql/queries/AuthUrl/index.js","lib/graphql/queries/User/index.js","lib/graphql/queries/Listing/index.js","lib/graphql/queries/Listings/index.js","sections/Listing/Listing.style.js","sections/Listing/components/Amenities/Amenities.style.js","sections/Listing/components/Amenities/index.js","sections/Listing/components/Description/Description.style.js","sections/Listing/components/Description/index.js","sections/Listing/components/Location/Location.style.js","sections/Listing/components/Location/index.js","sections/Listing/components/Gallery/Gallery.style.js","sections/Listing/components/Gallery/index.js","sections/Listing/components/TopBar/index.js","sections/Listing/components/Reservation/Reservation.style.js","sections/Listing/components/Reservation/Reservation.js","sections/Listing/components/Reservation/BottomReservation.js","sections/Listing/components/Reservation/CreateBookingModal.js","sections/Listing/index.js"],"names":["useScrollToTop","useLayoutEffect","window","scrollTo","AUTH_URL","gql","USER","LISTING","LISTINGS","SinglePageWrapper","styled","div","Text","themeGet","h2","p","TobBarWrapper","PostImage","listing","image","url","AmenitiesWrapper","AmenitiesArea","Amenities","titleStyle","wifi","parking","pool","airCon","name","className","as","content","icon","title","defaultProps","color","fontSize","lineHeight","mb","linkStyle","fontWeight","DescriptionWrapper","Description","description","address","country","locationMetaStyle","contentStyle","LocationWrapper","MapWrapper","Location","city","state","location","ImageGalleryWrapper","Gallery","images","map","img","original","thumbnail","items","showPlayButton","showFullscreenButton","showIndex","lazyLoad","slideDuration","topBarMenu","target","TopBar","innerZ","top","activeClass","menu","form","FormActionArea","DatePickerArea","Paragraph","CardHeader","priceStyle","pricePeriodStyle","host","formatListingPrice","price","link","id","ReservationForm","viewer","checkInDate","checkOutDate","setCheckInDate","setCheckOutDate","setBookingsModal","disabledDate","currentDate","isBefore","moment","endOf","viewerIsHost","checkOutInputDisabled","hasWallet","buttonDisabled","buttonMessage","strong","value","undefined","format","showToday","onChange","dateValue","onOpenChange","disabled","selectedCheckOutDate","displayErrorMessage","verifyAndSetCheckOutDate","onClick","size","type","mark","Reservation","header","BottomReservation","useState","visible","setVisible","action","onCancel","footer","maskStyle","backgroundColor","wrapClassName","closable","Title","CreateBookingModal","modalVisible","setModalVisible","clearBookingData","handleListingRefetch","stripe","useMutation","CREATE_BOOKING","onCompleted","displaySuccessNotification","onError","createBooking","loading","daysBooked","diff","listingPrice","handleCreateBooking","a","createToken","stripeToken","token","error","variables","input","source","checkIn","checkOut","message","centered","level","Listing","match","useContext","AuthContext","bookingsPage","setBookingsPage","bookingModal","modal","setModal","width","useWindowSize","useQuery","params","limit","data","refetch","listingCreateBookingModalElement","height","viewBox","d","transform","fill","gutter","style","marginTop","xl"],"mappings":"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","file":"static/js/8.9f532c88.chunk.js","sourcesContent":["import { useLayoutEffect } from 'react';\n\nconst useScrollToTop = () => {\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n};\n\nexport default useScrollToTop;\n","import { gql } from 'apollo-boost';\n\nexport const AUTH_URL = gql`\n  query AuthUrl {\n    authUrl\n  }\n`;\n","import { gql } from 'apollo-boost';\n\nexport const USER = gql`\n  query User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\n    user(id: $id) {\n      id\n      name\n      avatar\n      contact\n      hasWallet\n      income\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          listing {\n            id\n            title\n            image {\n              url\n            }\n            address\n            price\n          }\n          checkIn\n          checkOut\n        }\n      }\n      listings(limit: $limit, page: $listingsPage) {\n        total\n        result {\n          id\n          title\n          image {\n            url\n          }\n          address\n          price\n        }\n      }\n    }\n  }\n`;\n","import { gql } from 'apollo-boost';\n\nexport const LISTING = gql`\n  query Listing($id: ID!, $bookingsPage: Int!, $limit: Int!) {\n    listing(id: $id) {\n      id\n      title\n      description\n      image {\n        url\n      }\n      host {\n        id\n        name\n        avatar\n        hasWallet\n      }\n      address\n      city\n      admin\n      country\n      location {\n        lat\n        lng\n      }\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          tenant {\n            id\n            name\n            avatar\n          }\n          checkIn\n          checkOut\n        }\n      }\n      bookingsIndex\n      price\n      guests\n      wifi\n      airCon\n      pool\n      parking\n    }\n  }\n`;\n","import { gql } from 'apollo-boost';\n\nexport const LISTINGS = gql`\n  query Listings(\n    $location: String\n    $filter: ListingsFilter!\n    $limit: Int!\n    $page: Int!\n  ) {\n    listings(location: $location, filter: $filter, limit: $limit, page: $page) {\n      region\n      location {\n        lat\n        lng\n      }\n      total\n      result {\n        id\n        title\n        image {\n          url\n        }\n        address\n        admin\n        country\n        location {\n          lat\n          lng\n        }\n        price\n      }\n    }\n  }\n`;\n","import styled from 'styled-components';\nimport { themeGet } from '@styled-system/theme-get';\n\nconst SinglePageWrapper = styled.div`\n  padding-bottom: 56px;\n  @media only screen and (max-width: 480px) {\n    margin-bottom: 30px;\n  }\n`;\n\nexport const LocationMeta = styled.div`\n  color: ${themeGet('text.1', '#909090')};\n  font-size: 13px;\n  font-weight: 400;\n`;\n\nexport const Title = styled.h2`\n  color: ${themeGet('text.0', '#2C2C2C')};\n  font-size: 25px;\n  line-height: 34px;\n  font-weight: 700;\n  margin: 0 0 4px;\n`;\n\nexport const RatingMeta = styled.div`\n  display: flex;\n  align-items: center;\n  color: ${themeGet('text.0', '#2C2C2C')};\n  font-size: 13px;\n  margin-top: 10px;\n  margin-bottom: 27px;\n  @media only screen and (max-width: 767px) {\n    margin-bottom: 20px;\n  }\n\n  i {\n    color: ${themeGet('primary.0', '#008489')};\n  }\n\n  svg {\n    fill: ${themeGet('primary.0', '#008489')};\n  }\n\n  strong {\n    font-weight: 700;\n    margin-left: 8px;\n    margin-top: -2px;\n  }\n`;\n\nexport const Text = styled.p`\n  color: ${themeGet('text.0', '#2C2C2C')};\n  font-size: 15px;\n  line-height: 24px;\n  font-weight: 400;\n  margin: 0 0 30px;\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nexport const TextButton = styled.div`\n  margin: 30px 0 0;\n  @media only screen and (max-width: 767px) {\n    margin-top: 19px;\n  }\n`;\n\nexport const TobBarWrapper = styled.div`\n  .sticky-outer-wrapper {\n    .sticky-inner-wrapper {\n      background-color: ${themeGet('color.1', '#ffffff')};\n\n      .scrollbar {\n        box-shadow: none;\n        border-top: 1px solid ${themeGet('border.3', '#E6E6E6')};\n        border-bottom: 1px solid ${themeGet('border.3', '#E6E6E6')};\n\n        .scrollbar_left {\n          margin-right: 25px;\n          padding-left: 25px;\n\n          a {\n            color: ${themeGet('text.0', '#2C2C2C')};\n            font-size: 15px;\n            padding: 28px 20px;\n            text-transform: capitalize;\n            transition: color 0.2s ease-in-out;\n\n            &:first-child {\n              padding-left: 0;\n            }\n\n            @media only screen and (max-width: 1200px) {\n              padding: 18px 20px;\n            }\n\n            &:hover {\n              color: ${themeGet('primary.0', '#008489')};\n            }\n\n            &.active {\n              font-weight: 700;\n              color: ${themeGet('primary.0', '#008489')};\n              border-bottom: 3px solid ${themeGet('primary.0', '#008489')};\n            }\n          }\n        }\n\n        .scrollbar_right {\n          padding-right: 25px;\n\n          button,\n          .ant-btn {\n            @media only screen and (max-width: 767px) {\n              min-width: 50px;\n              svg {\n                margin-right: 0;\n              }\n              > span {\n                display: none;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    &.isSticky {\n      .sticky-inner-wrapper {\n        > div {\n          border: 0;\n          box-shadow: 0 2px 5px -2px rgba(0, 0, 0, 0.16);\n        }\n      }\n    }\n  }\n`;\n\nexport const ButtonGroup = styled.div`\n  button,\n  button.ant-btn {\n    margin: 0 5px;\n    height: 37px;\n    min-width: 90px;\n    padding: 0 5px;\n    border: 1px solid ${themeGet('border.3', '#E6E6E6')};\n    color: ${themeGet('text.0', '#2C2C2C')};\n    font-size: 15px;\n    font-weight: 700;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    transition: background-color 0.2s ease;\n    svg {\n      width: 18.309px;\n      height: 15.537px;\n      margin-right: 10px;\n      path {\n        fill: transparent;\n        stroke: ${themeGet('text.0', '#2C2C2C')};\n        stroke-width: 1.5px;\n      }\n    }\n\n    &.active {\n      svg {\n        path {\n          stroke: ${themeGet('color.4', '#FC5C63')};\n          fill: ${themeGet('color.4', '#FC5C63')};\n        }\n      }\n    }\n\n    &:focus {\n      outline: none;\n    }\n    &:hover {\n      background-color: ${themeGet('color.2', '#F7F7F7')};\n    }\n    &:after {\n      display: none;\n    }\n\n    &:first-child {\n      margin-left: 0;\n      svg {\n        position: relative;\n        top: 1px;\n        path {\n          stroke-width: 1.8px;\n        }\n      }\n    }\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n`;\n\nexport const PostImage = styled.div`\n  background-image: url(${(listing) => listing.image[0].url});\n  background-position: center center;\n  background-size: cover;\n  height: 600px;\n  position: relative;\n\n  @media only screen and (max-width: 767px) {\n    height: 406px;\n  }\n\n  .image_gallery_button {\n    background: ${themeGet('color.1', '#ffffff')};\n    border-radius: 3px;\n    font-size: 15px;\n    font-weight: 700;\n    color: #2c2c2c;\n    border: 0;\n    height: 37px;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n    position: absolute;\n    bottom: 30px;\n    right: 25px;\n\n    &:hover,\n    &:focus {\n      background: ${themeGet('color.2', '#F7F7F7')};\n      color: ${themeGet('text.0', '#2C2C2C')};\n    }\n  }\n`;\n\nexport default SinglePageWrapper;\n","import styled from 'styled-components';\n\nconst AmenitiesWrapper = styled.div`\n  padding: 29px 0;\n\n  .amenities_title {\n    margin-bottom: 30px;\n  }\n\n  a {\n    &:hover {\n      color: #31b8bd;\n    }\n  }\n`;\n\nexport const AmenitiesArea = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  justify-content: space-between;\n  margin-bottom: -15px;\n\n  > div {\n    width: calc(100% / 4 - 10px);\n\n    @media only screen and (max-width: 767px) {\n      width: calc(100% / 3 - 10px);\n      margin-bottom: 20px;\n    }\n\n    @media only screen and (max-width: 580px) {\n      width: calc(100% / 2 - 10px);\n      margin-bottom: 20px;\n    }\n  }\n`;\n\nexport default AmenitiesWrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Element } from 'react-scroll';\n\nimport { Heading, IconCard } from 'lib/components';\nimport { FaWifi, FaCarAlt, FaSwimmer, FaAirFreshener } from 'react-icons/fa';\nimport AmenitiesWrapper, { AmenitiesArea } from './Amenities.style';\n\nexport const Amenities = ({ titleStyle, wifi, parking, pool, airCon }) => {\n  return (\n    <Element name='amenities' className='Amenities'>\n      <AmenitiesWrapper>\n        <Heading as='h2' content='Amenities' {...titleStyle} />\n        <AmenitiesArea>\n          {wifi && <IconCard icon={<FaWifi />} title='Free Wifi' />}\n          {parking && <IconCard icon={<FaCarAlt />} title='Free Parking' />}\n          {pool && <IconCard icon={<FaSwimmer />} title='Free Pool' />}\n          {airCon && (\n            <IconCard icon={<FaAirFreshener />} title='Air Conditioner' />\n          )}\n        </AmenitiesArea>\n      </AmenitiesWrapper>\n    </Element>\n  );\n};\n\nAmenities.propTypes = {\n  titleStyle: PropTypes.object,\n  linkStyle: PropTypes.object\n};\n\nAmenities.defaultProps = {\n  titleStyle: {\n    color: '#2C2C2C',\n    fontSize: ['17px', '20px', '25px'],\n    lineHeight: ['1.15', '1.2', '1.36'],\n    mb: ['14px', '20px', '30px']\n  },\n  linkStyle: {\n    fontSize: '15px',\n    fontWeight: '700',\n    color: '#008489'\n  }\n};\n","import styled from 'styled-components';\nimport { themeGet } from '@styled-system/theme-get';\nconst DescriptionWrapper = styled.div`\n  padding: 0 0 29px;\n\n  button {\n    font-size: 15px;\n    font-weight: 700;\n    border: 0;\n    padding: 0;\n    height: auto;\n    line-height: 1;\n    box-shadow: none;\n    text-shadow: none;\n    color: ${themeGet('primary.0', '#008489')};\n\n    &:hover,\n    &:focus {\n      color: ${themeGet('primary.1', '#399C9F')};\n    }\n\n    &::after {\n      content: none;\n    }\n  }\n`;\n\nexport default DescriptionWrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Element } from 'react-scroll';\n\nimport { Typography } from 'antd';\nimport { Heading } from 'lib/components';\n\nimport DescriptionWrapper from './Description.style';\n\nconst { Text } = Typography;\n\nexport const Description = ({\n  title,\n  description,\n  address,\n  country,\n  titleStyle,\n}) => {\n  return (\n    <Element name='overview' className='overview'>\n      <DescriptionWrapper>\n        <Text>{`${address}, ${country}`}</Text>\n        <Heading as='h2' content={title} {...titleStyle} />\n        <Text>{description}</Text>\n      </DescriptionWrapper>\n    </Element>\n  );\n};\n\nDescription.propTypes = {\n  titleStyle: PropTypes.object,\n  locationMetaStyle: PropTypes.object,\n  contentStyle: PropTypes.object,\n};\n\nDescription.defaultProps = {\n  titleStyle: {\n    color: '#2C2C2C',\n    fontSize: ['17px', '20px', '25px'],\n    lineHeight: ['1.15', '1.2', '1.36'],\n    mb: '4px',\n  },\n  locationMetaStyle: {\n    fontSize: '13px',\n    fontWeight: '400',\n    color: '#909090',\n  },\n  contentStyle: {\n    fontSize: '15px',\n    fontWeight: '400',\n    color: '#2C2C2C',\n    lineHeight: '1.6',\n  },\n};\n","import styled from 'styled-components';\n\nconst LocationWrapper = styled.div`\n  padding: 29px 0;\n\n  .location_meta {\n    margin-bottom: 29px;\n  }\n  a {\n    &:hover {\n      color: #31b8bd;\n    }\n  }\n`;\n\nexport const MapWrapper = styled.div`\n  z-index: 10;\n`;\n\nexport default LocationWrapper;\n","import React from 'react';\nimport { Element } from 'react-scroll';\nimport { Heading, Map } from 'lib/components';\nimport { Text } from '../../Listing.style';\nimport LocationWrapper, { MapWrapper } from './Location.style';\n\nexport const Location = ({\n  address,\n  city,\n  state,\n  country,\n  location,\n  titleStyle,\n}) => {\n  return (\n    <Element name='location' className='location'>\n      <LocationWrapper>\n        <Heading as='h2' content='Location' {...titleStyle} />\n        <Text>{`${address}, ${city}, ${state}, ${country}`}</Text>\n        <MapWrapper>\n          <Map location={location} />\n        </MapWrapper>\n      </LocationWrapper>\n    </Element>\n  );\n};\n","import styled from 'styled-components';\nimport { themeGet } from '@styled-system/theme-get';\n\nconst ImageGalleryWrapper = styled.div`\n  .image-gallery-slides {\n    border-radius: 3px;\n    box-shadow: 0 2px 25px ${themeGet('boxShadow.1', 'rgba(0, 0, 0, 0.16)')};\n  }\n\n  .image-gallery-slide {\n    .image-gallery-image {\n      object-fit: cover;\n    }\n  }\n\n  .image-gallery-icon {\n    .image-gallery-svg {\n      height: 80px;\n      width: auto;\n    }\n    &:hover {\n      color: ${themeGet('color.1', '#ffffff')};\n    }\n  }\n\n  .image-gallery-index {\n    padding: 0;\n    font-size: 15px;\n    font-weight: 700;\n    position: static;\n    margin: 30px 0 16px 0;\n    background-color: transparent;\n    color: ${themeGet('text.0', '#2C2C2C')};\n\n    &:after {\n      content: 'photos';\n      display: inline-block;\n      margin-left: 0.25em;\n    }\n  }\n\n  .image-gallery-thumbnails-wrapper {\n    .image-gallery-thumbnails {\n      padding: 0;\n\n      .image-gallery-thumbnail {\n        width: 150px;\n        padding: 0;\n        margin: 0 20px 0 0;\n        border: 0;\n        border-radius: 3px;\n        overflow: hidden;\n        position: relative;\n\n        &.active {\n          border: 0;\n        }\n\n        &:last-child {\n          margin-right: 0;\n        }\n\n        &:before {\n          content: '';\n          display: block;\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          top: 0;\n          left: 0;\n          background: ${themeGet('color.1', '#ffffff')};\n          opacity: 0.7;\n          z-index: 1;\n          transform: scaleX(1);\n          transform-origin: left center 0px;\n          transition: transform 0.35s cubic-bezier(0.43, 0.49, 0.51, 0.68) 0s;\n        }\n\n        &:hover,\n        &.active {\n          &:before {\n            transform: scaleX(0);\n            transform-origin: right center 0px;\n            transition: transform 0.7s cubic-bezier(0.19, 1, 0.22, 1) 0s;\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport default ImageGalleryWrapper;\n","import React from 'react';\nimport ImageGallery from 'react-image-gallery';\nimport 'react-image-gallery/styles/css/image-gallery.css';\nimport ImageGalleryWrapper from './Gallery.style';\n\nexport const Gallery = ({ image }) => {\n  const images = image.map(img => ({\n    original: img.url,\n    thumbnail: img.url\n  }));\n\n  return (\n    <ImageGalleryWrapper>\n      <ImageGallery\n        items={images}\n        showPlayButton={false}\n        showFullscreenButton={false}\n        showIndex={true}\n        lazyLoad={true}\n        slideDuration={550}\n      />\n    </ImageGalleryWrapper>\n  );\n};\n","import React from 'react';\nimport Sticky from 'react-stickynode';\n\nimport { ScrollBar } from 'lib/components';\nimport { TobBarWrapper } from '../../Listing.style';\n\nconst topBarMenu = [\n  {\n    name: 'Overview',\n    target: 'overview',\n  },\n  {\n    name: 'Amenities',\n    target: 'amenities',\n  },\n  {\n    name: 'Location',\n    target: 'location',\n  },\n];\n\nexport const TopBar = () => {\n  return (\n    <TobBarWrapper>\n      <Sticky innerZ={9999} top={80} activeClass='isSticky'>\n        <ScrollBar menu={topBarMenu} />\n      </Sticky>\n    </TobBarWrapper>\n  );\n};\n","import styled from 'styled-components';\nimport { themeGet } from '@styled-system/theme-get';\nconst ReservationFormWrapper = styled.form`\n  padding: 0 30px;\n  @media only screen and (max-width: 375px) {\n    padding: 0 15px;\n  }\n`;\n\nexport const FieldWrapper = styled.div`\n  margin-bottom: 30px;\n  @media only screen and (max-width: 375px) {\n    margin-bottom: 25px;\n  }\n\n  label {\n    font-size: 15px;\n    color: ${themeGet('text.0', '#2C2C2C')};\n    text-transform: capitalize;\n    margin-bottom: 7px;\n    display: block;\n  }\n\n  /* date picker component style */\n  .date_picker {\n    margin-bottom: 0;\n    > label {\n      margin-bottom: 0;\n      width: 100%;\n    }\n    .DateRangePicker {\n      width: 100%;\n      input,\n      .DateRangePickerInput {\n        border: 0;\n        width: 100%;\n        height: 54px;\n        display: flex;\n        padding: 0 15px;\n        font-size: 15px;\n        font-weight: 400;\n        border-radius: 3px;\n        align-items: center;\n        justify-content: space-between;\n        color: ${themeGet('text.0', '#2C2C2C')};\n        background-color: ${themeGet('color.2', '#F7F7F7')};\n        &::placeholder {\n          font-size: 15px;\n          color: ${themeGet('text.0', '#2C2C2C')};\n        }\n        .DateInput {\n          width: auto;\n          .DateInput_fang {\n            top: 46px !important;\n          }\n        }\n        .DateRangePickerInput_arrow {\n          & + .DateInput {\n            input {\n              text-align: right;\n            }\n          }\n        }\n      }\n      .DateRangePicker_picker {\n        top: 56px !important;\n        .DayPicker {\n          width: 316px !important;\n          .DayPicker_focusRegion {\n            .DayPicker_transitionContainer {\n              width: 316px !important;\n              .CalendarMonth_caption {\n                font-size: 16px;\n                color: ${themeGet('text.0', '#2C2C2C')};\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /* Room guest component style */\n  .view_with__popup {\n    .popup_handler {\n      button,\n      button.ant-btn {\n        border: 0;\n        width: 100%;\n        display: flex;\n        padding: 0 25px;\n        font-size: 15px;\n        font-weight: 400;\n        min-height: 54px;\n        border-radius: 3px;\n        align-items: center;\n        justify-content: space-between;\n        color: ${themeGet('text.0', '#2C2C2C')};\n        background-color: ${themeGet('color.2', '#F7F7F7')};\n        &::after {\n          display: none;\n        }\n      }\n    }\n    &.active {\n      .popup_container {\n        max-width: 316px;\n        padding: 25px 22px;\n        position: absolute;\n        left: 0;\n        top: 56px;\n        z-index: 2;\n        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.07);\n        &::before {\n          content: '';\n          width: 14px;\n          height: 14px;\n          top: -8px;\n          left: 36px;\n          position: absolute;\n          border-radius: 2px;\n          transform: rotate(45deg);\n          background-color: ${themeGet('color.1', '#ffffff')};\n          border-top: 1px solid ${themeGet('border.3', '#E6E6E6')};\n          border-left: 1px solid ${themeGet('border.3', '#E6E6E6')};\n        }\n      }\n    }\n  }\n`;\n\nexport const RoomGuestWrapper = styled.div`\n  width: 100%;\n  strong {\n    font-size: 15px;\n    font-weight: 400;\n    color: ${themeGet('text.0', '#2C2C2C')};\n  }\n`;\n\nexport const ItemWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  &:last-child {\n    margin-bottom: 10px;\n  }\n\n  .quantity {\n    height: 30px;\n    input {\n      font-size: 15px;\n    }\n    button.btn svg {\n      width: 18px;\n      height: 18px;\n    }\n  }\n`;\n\nexport const FormActionArea = styled.div`\n  text-align: center;\n  padding-bottom: 40px;\n  button.ant-btn-primary {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    width: 175px;\n    height: 47px;\n    color: ${themeGet('color.1', '#ffffff')};\n    font-size: 15px;\n    font-weight: 700;\n    border-color: ${themeGet('primary.0', '#008489')};\n    background-color: ${themeGet('primary.0', '#008489')};\n    transition: all 0.2s ease;\n    &:hover,\n    &:focus {\n      outline: none;\n      opacity: 0.93;\n    }\n  }\n`;\n\nexport const DatePickerArea = styled.div`\n  justify-content: center;\n  margin: 20px 0;\n  text-align: center;\n  padding: 5px 0;\n`;\n\nexport default ReservationFormWrapper;\n","import React, { Fragment } from 'react';\nimport { Button, DatePicker, Typography } from 'antd';\nimport moment from 'moment';\nimport { displayErrorMessage } from 'lib/utils';\nimport PropTypes from 'prop-types';\n\nimport { Card, Heading, TextLink } from 'lib/components';\nimport { formatListingPrice } from 'lib/utils';\n\nimport { FormActionArea, DatePickerArea } from './Reservation.style';\n\nconst { Paragraph, Text } = Typography;\n\nconst CardHeader = ({\n  priceStyle,\n  pricePeriodStyle,\n  linkStyle,\n  listing,\n  host,\n}) => {\n  return (\n    <Fragment>\n      <Heading\n        content={\n          <Fragment>\n            {formatListingPrice(listing.price, false)} / Night\n            <Text as='span' content=' / night' {...pricePeriodStyle} />\n          </Fragment>\n        }\n        {...priceStyle}\n      />\n      <TextLink\n        link={`/user/${host.id}`}\n        content='Contact Host'\n        {...linkStyle}\n      />\n    </Fragment>\n  );\n};\n\nconst ReservationForm = ({\n  viewer,\n  listing,\n  host,\n  checkInDate,\n  checkOutDate,\n  setCheckInDate,\n  setCheckOutDate,\n  setBookingsModal,\n}) => {\n  const disabledDate = (currentDate) => {\n    if (currentDate) {\n      const dateIsBeforeEndOfDay = currentDate.isBefore(moment().endOf('day'));\n\n      return dateIsBeforeEndOfDay;\n    } else {\n      return false;\n    }\n  };\n\n  const verifyAndSetCheckOutDate = (selectedCheckOutDate) => {\n    if (checkInDate && selectedCheckOutDate) {\n      if (moment(selectedCheckOutDate).isBefore(checkInDate, 'days')) {\n        return displayErrorMessage(\n          `You can't book date of check out to be prior to check in!`\n        );\n      }\n    }\n\n    setCheckOutDate(selectedCheckOutDate);\n  };\n\n  const viewerIsHost = viewer.id === listing.host.id;\n  const checkInInputDisabled =\n    !viewer.id || viewerIsHost || !listing.host.hasWallet;\n  const checkOutInputDisabled = checkInInputDisabled || !checkInDate;\n  const buttonDisabled = checkOutInputDisabled || !checkInDate || !checkOutDate;\n\n  let buttonMessage = \"You won't be charged yet\";\n  if (!viewer.id) {\n    buttonMessage = 'You have to be signed in to book a listing!';\n  } else if (viewerIsHost) {\n    buttonMessage = \"You can't book your own listing!\";\n  } else if (!listing.host.hasWallet) {\n    buttonMessage =\n      \"The host has disconnected from Stripe and thus won't be able to receive payments!\";\n  }\n\n  return (\n    <>\n      <DatePickerArea>\n        <Paragraph strong>Check In</Paragraph>\n        <DatePicker\n          value={checkInDate ? checkInDate : undefined}\n          format={'YYYY/MM/DD'}\n          showToday={false}\n          disabledDate={disabledDate}\n          onChange={(dateValue) => setCheckInDate(dateValue)}\n          onOpenChange={() => setCheckOutDate(null)}\n          className='antdDatePicker'\n        />\n      </DatePickerArea>\n      <DatePickerArea>\n        <Paragraph strong>Check Out</Paragraph>\n        <DatePicker\n          value={checkOutDate ? checkOutDate : undefined}\n          format={'YYYY/MM/DD'}\n          showToday={false}\n          disabled={checkOutInputDisabled}\n          disabledDate={disabledDate}\n          onChange={(dateValue) => verifyAndSetCheckOutDate(dateValue)}\n        />\n      </DatePickerArea>\n      <FormActionArea>\n        <Button\n          disabled={buttonDisabled}\n          onClick={() => setBookingsModal(true)}\n          size='large'\n          type='primary'\n        >\n          Request to book!\n        </Button>\n        <div>\n          <Text type='secondary' mark>\n            {buttonMessage}\n          </Text>\n        </div>\n      </FormActionArea>\n    </>\n  );\n};\n\nconst Reservation = ({\n  viewer,\n  listing,\n  host,\n  checkInDate,\n  checkOutDate,\n  setCheckInDate,\n  setCheckOutDate,\n  setBookingsModal,\n}) => {\n  return (\n    <Card\n      className='reservation_sidebar'\n      header={<CardHeader listing={listing} host={host} />}\n      content={\n        <ReservationForm\n          viewer={viewer}\n          listing={listing}\n          checkInDate={checkInDate}\n          checkOutDate={checkOutDate}\n          setCheckInDate={setCheckInDate}\n          setCheckOutDate={setCheckOutDate}\n          setBookingsModal={setBookingsModal}\n        />\n      }\n    />\n  );\n};\n\nCardHeader.propTypes = {\n  priceStyle: PropTypes.object,\n  pricePeriodStyle: PropTypes.object,\n  linkStyle: PropTypes.object,\n};\n\nCardHeader.defaultProps = {\n  priceStyle: {\n    color: '#2C2C2C',\n    fontSize: '25px',\n    fontWeight: '700',\n  },\n  pricePeriodStyle: {\n    fontSize: '15px',\n    fontWeight: '400',\n  },\n  linkStyle: {\n    fontSize: '15px',\n    fontWeight: '700',\n    color: '#008489',\n  },\n};\n\nexport default Reservation;\n","import React, { useState } from 'react';\nimport { IoIosClose } from 'react-icons/io';\n\nimport { Button, Modal } from 'antd';\nimport { BookingSticky } from 'lib/components';\nimport { formatListingPrice } from 'lib/utils';\n\nimport Reservation from './Reservation';\n\nconst BottomReservation = ({\n  viewer,\n  listing,\n  checkInDate,\n  checkOutDate,\n  setCheckInDate,\n  setCheckOutDate,\n  setBookingsModal,\n}) => {\n  const [visible, setVisible] = useState(false);\n\n  return (\n    <>\n      <BookingSticky\n        title={listing.title}\n        price={formatListingPrice(listing.price, false)}\n        action={\n          <Button type='primary' onClick={() => setVisible(true)}>\n            Book\n          </Button>\n        }\n      />\n\n      <Modal\n        visible={visible}\n        onCancel={() => setVisible(false)}\n        footer={null}\n        maskStyle={{\n          backgroundColor: 'rgba(255, 255, 255, 0.8)',\n        }}\n        wrapClassName='reservation_modal'\n        closable={false}\n      >\n        <Reservation\n          viewer={viewer}\n          listing={listing}\n          checkInDate={checkInDate}\n          checkOutDate={checkOutDate}\n          setCheckInDate={setCheckInDate}\n          setCheckOutDate={setCheckOutDate}\n          setBookingsModal={setBookingsModal}\n        />\n        <Button onClick={() => setVisible(false)} className='close'>\n          <IoIosClose />\n        </Button>\n      </Modal>\n    </>\n  );\n};\n\nexport default BottomReservation;\n","import React from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Button, Divider, Icon, Modal, Typography } from 'antd';\nimport moment from 'moment';\nimport { CREATE_BOOKING } from 'lib/graphql/mutations';\nimport {\n  displaySuccessNotification,\n  displayErrorMessage,\n  formatListingPrice,\n} from 'lib/utils';\n\nconst { Paragraph, Text, Title } = Typography;\n\nconst CreateBookingModal = ({\n  id,\n  price,\n  modalVisible,\n  checkInDate,\n  checkOutDate,\n  setModalVisible,\n  clearBookingData,\n  handleListingRefetch,\n  stripe,\n}) => {\n  const [createBooking, { loading }] = useMutation(CREATE_BOOKING, {\n    onCompleted: () => {\n      clearBookingData();\n      displaySuccessNotification(\n        \"You've successfully booked the listing!\",\n        'Booking history can always be found in your User page.'\n      );\n      handleListingRefetch();\n    },\n    onError: () => {\n      displayErrorMessage(\n        \"Sorry! We weren't able to successfully book the listing. Please try again later!\"\n      );\n    },\n  });\n\n  const daysBooked = checkOutDate.diff(checkInDate, 'days') + 1;\n  const listingPrice = price * daysBooked;\n\n  const handleCreateBooking = async () => {\n    if (!stripe) {\n      return displayErrorMessage(\n        \"Sorry! We weren't able to connect with Stripe.\"\n      );\n    }\n\n    let { token: stripeToken, error } = await stripe.createToken();\n    if (stripeToken) {\n      createBooking({\n        variables: {\n          input: {\n            id,\n            source: stripeToken.id,\n            checkIn: moment(checkInDate).format('YYYY-MM-DD'),\n            checkOut: moment(checkOutDate).format('YYYY-MM-DD'),\n          },\n        },\n      });\n    } else {\n      displayErrorMessage(\n        error && error.message\n          ? error.message\n          : \"Sorry! We weren't able to book the listing. Please try again later.\"\n      );\n    }\n  };\n\n  return (\n    <Modal\n      visible={modalVisible}\n      centered\n      footer={null}\n      onCancel={() => setModalVisible(false)}\n    >\n      <div className='listing-booking-modal'>\n        <div className='listing-booking-modal__intro'>\n          <Title className='listing-boooking-modal__intro-title'>\n            <Icon type='key'></Icon>\n          </Title>\n          <Title level={3} className='listing-boooking-modal__intro-title'>\n            Book your trip\n          </Title>\n          <Paragraph>\n            Enter your payment information to book the listing from the dates\n            between{' '}\n            <Text mark strong>\n              {moment(checkInDate).format('MMMM Do YYYY')}\n            </Text>{' '}\n            and{' '}\n            <Text mark strong>\n              {moment(checkOutDate).format('MMMM Do YYYY')}\n            </Text>\n            , inclusive.\n          </Paragraph>\n        </div>\n\n        <Divider />\n\n        <div className='listing-booking-modal__charge-summary'>\n          <Paragraph>\n            {formatListingPrice(price, false)} * {daysBooked} days ={' '}\n            <Text strong>{formatListingPrice(listingPrice, false)}</Text>\n          </Paragraph>\n          <Paragraph className='listing-booking-modal__charge-summary-total'>\n            Total = <Text mark>{formatListingPrice(listingPrice, false)}</Text>\n          </Paragraph>\n        </div>\n\n        <Divider />\n\n        <div className='listing-booking-modal__stripe-card-section'>\n          <Button\n            size='large'\n            type='primary'\n            className='listing-booking-modal__cta'\n            loading={loading}\n            onClick={handleCreateBooking}\n          >\n            Book\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default CreateBookingModal;\n","import React, { Fragment, useState, useContext } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport Sticky from 'react-stickynode';\nimport { Button, Modal, Row, Col } from 'antd';\nimport { AuthContext } from 'lib/context/AuthProvider';\n\nimport { Container, PageSkeleton, ErrorBanner } from 'lib/components';\nimport SinglePageWrapper, { PostImage } from './Listing.style';\nimport {\n  Gallery,\n  TopBar,\n  Description,\n  Amenities,\n  Location,\n} from './components';\nimport Reservation from './components/Reservation/Reservation';\nimport BottomReservation from './components/Reservation/BottomReservation';\nimport CreateBookingModal from './components/Reservation/CreateBookingModal';\n\nimport { LISTING } from 'lib/graphql/queries';\n\nimport useWindowSize from 'lib/hooks/useWindowSize';\nimport useScrollToTop from 'lib/hooks/useScrollToTop';\n\nconst PAGE_LIMIT = 3;\n\nconst Listing = ({ match }) => {\n  useScrollToTop();\n\n  const { viewer } = useContext(AuthContext);\n  const [bookingsPage, setBookingsPage] = useState(1);\n  const [checkInDate, setCheckInDate] = useState(null);\n  const [checkOutDate, setCheckOutDate] = useState(null);\n  const [bookingModal, setBookingsModal] = useState(false);\n  const [modal, setModal] = useState(false);\n  const { width } = useWindowSize();\n\n  const { loading, data, error, refetch } = useQuery(LISTING, {\n    variables: {\n      id: match.params.id,\n      bookingsPage,\n      limit: PAGE_LIMIT,\n    },\n  });\n\n  const listing = data ? data.listing : null;\n  const host = data ? data.listing.host : null;\n\n  if (loading) {\n    return <PageSkeleton />;\n  }\n\n  if (error) {\n    return (\n      <Fragment>\n        <ErrorBanner description=\"This listing may not exist or we've encountered an error. Please try again soon!\" />\n        <PageSkeleton />\n      </Fragment>\n    );\n  }\n\n  const clearBookingData = () => {\n    setBookingsModal(false);\n    setCheckInDate(null);\n    setCheckOutDate(null);\n    setBookingsPage(1);\n  };\n\n  const handleListingRefetch = async () => {\n    await refetch();\n  };\n\n  const listingCreateBookingModalElement =\n    listing && checkInDate && checkOutDate ? (\n      <CreateBookingModal\n        id={listing.id}\n        price={listing.price}\n        modalVisible={bookingModal}\n        checkInDate={checkInDate}\n        checkOutDate={checkOutDate}\n        setModalVisible={setBookingsModal}\n        clearBookingData={clearBookingData}\n        handleListingRefetch={handleListingRefetch}\n      />\n    ) : null;\n\n  return (\n    <SinglePageWrapper>\n      <PostImage {...listing}>\n        <Button\n          type='primary'\n          onClick={() => setModal(true)}\n          className='image_gallery_button'\n        >\n          View Photos\n        </Button>\n\n        {listingCreateBookingModalElement}\n\n        <Modal\n          visible={modal}\n          centered\n          onCancel={() => setModal(false)}\n          footer={null}\n          maskStyle={{\n            backgroundColor: 'rgba(255, 255, 255, 0.95)',\n          }}\n          wrapClassName='image_gallery_modal'\n          closable={false}\n        >\n          <Fragment>\n            <Gallery image={listing.image} />\n            <Button\n              onClick={() => setModal(false)}\n              className='image_gallery_close'\n            >\n              <svg width='16.004' height='16' viewBox='0 0 16.004 16'>\n                <path\n                  id='_ionicons_svg_ios-close_2_'\n                  d='M170.4,168.55l5.716-5.716a1.339,1.339,0,1,0-1.894-1.894l-5.716,5.716-5.716-5.716a1.339,1.339,0,1,0-1.894,1.894l5.716,5.716-5.716,5.716a1.339,1.339,0,0,0,1.894,1.894l5.716-5.716,5.716,5.716a1.339,1.339,0,0,0,1.894-1.894Z'\n                  transform='translate(-160.5 -160.55)'\n                  fill='#909090'\n                />\n              </svg>\n            </Button>\n          </Fragment>\n        </Modal>\n      </PostImage>\n\n      <TopBar />\n\n      <Container>\n        <Row gutter={30} id='reviewSection' style={{ marginTop: 30 }}>\n          <Col xl={16}>\n            <Description\n              description={listing.description}\n              title={listing.title}\n              country={listing.country}\n              address={listing.address}\n            />\n            <Amenities\n              wifi={listing.wifi}\n              parking={listing.parking}\n              pool={listing.pool}\n              airCon={listing.airCon}\n            />\n            <Location\n              address={listing.address}\n              city={listing.city}\n              state={listing.state}\n              country={listing.country}\n              location={listing.location}\n            />\n          </Col>\n          <Col xl={8}>\n            {width > 1200 ? (\n              <Sticky innerZ={999} activeClass='isSticky' top={202}>\n                <Reservation\n                  viewer={viewer}\n                  host={host}\n                  listing={listing}\n                  checkInDate={checkInDate}\n                  checkOutDate={checkOutDate}\n                  setCheckInDate={setCheckInDate}\n                  setCheckOutDate={setCheckOutDate}\n                  setBookingsModal={setBookingsModal}\n                />\n              </Sticky>\n            ) : (\n              <BottomReservation\n                viewer={viewer}\n                listing={listing}\n                checkInDate={checkInDate}\n                checkOutDate={checkOutDate}\n                setCheckInDate={setCheckInDate}\n                setCheckOutDate={setCheckOutDate}\n                setBookingsModal={setBookingsModal}\n              />\n            )}\n          </Col>\n        </Row>\n      </Container>\n    </SinglePageWrapper>\n  );\n};\n\nexport default Listing;\n"],"sourceRoot":""}