(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[12],{493:function(e,a,t){"use strict";var l=t(0);a.a=function(){Object(l.useLayoutEffect)((function(){window.scrollTo(0,0)}),[])}},634:function(e,a,t){"use strict";t.r(a);t(197);var l=t(99),n=(t(540),t(625)),r=(t(627),t(622)),i=(t(501),t(19)),o=(t(200),t(253)),s=(t(544),t(624)),c=t(81),u=t(33),m=(t(546),t(623)),d=(t(279),t(196)),p=(t(286),t(251)),g=t(0),f=t.n(g),E=t(26),b=t(73),v=t(86),h=t(45),y=t(7),P=t(8);function w(){var e=Object(y.a)(["\n  width: 125px;\n"]);return w=function(){return e},e}function x(){var e=Object(y.a)(["\n  padding-bottom: 20px;\n"]);return x=function(){return e},e}function j(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 40px 40px;\n  max-width: 1100px;\n  margin: 0 auto;\n\n  .host__container {\n    margin-top: 60px;\n  }\n"]);return j=function(){return e},e}var O=P.d.div(j()),A=(P.d.div(x()),P.d.div(w()),t(102)),q=t(53),N=t(90),B=t(493),C=p.a.Content,_=d.a.Text,L=d.a.Title,S=m.a.Item,G=function(e){var a="image/jpeg"===e.type||"image/png"===e.type,t=e.size/1024/1024<1;return a?t?a&&t:(Object(q.a)("You're only able to upload valid image files of under 1MB in size!"),!1):(Object(q.a)("You're only able to upload valid JPG or PNG files!"),!1)},T=m.a.create({name:"host_form"})((function(e){var a=e.form;Object(B.a)();var t=Object(g.useContext)(N.a).viewer,d=Object(g.useState)(!1),p=Object(u.a)(d,2),y=p[0],P=p[1],w=Object(g.useState)(null),x=Object(u.a)(w,2),j=x[0],T=x[1],k=Object(v.b)(A.d,{onCompleted:function(){Object(q.b)("You've successfully created your listing!")},onError:function(){Object(q.a)("Sorry! We weren't able to create your listing. Please try again later.")}}),W=Object(u.a)(k,2),F=W[0],M=W[1],z=M.loading,D=M.data;if(!t.id||!t.hasWallet)return f.a.createElement(O,null,f.a.createElement(h.c,{className:"host__container"},f.a.createElement("div",{className:"host__form-header"},f.a.createElement(L,{level:4,className:"host__form-title"},"You'll have to be signed in and connected with Stripe to host a listing!"),f.a.createElement(_,{type:"secondary"},"We only allow users who've signed in to our application and have connected with Stripe to host new listings. You can sign in at the",f.a.createElement(E.b,{to:"/login"},"/login")," page and connect with Stripe shortly after."))));if(z)return f.a.createElement(C,{className:"host-content"},f.a.createElement(h.k,{message:"Please Wait! We're creating your listing now..."}));if(D&&D.hostListing)return f.a.createElement(b.a,{to:"/listing/".concat(D.hostListing.id)});var U=a.getFieldDecorator;return f.a.createElement(O,null,f.a.createElement(m.a,{layout:"vertical",onSubmit:function(e){e.preventDefault(),a.validateFields((function(e,a){if(e)Object(q.a)("Please complete all required form fields!");else{var t="".concat(a.address,", ").concat(a.city,", ").concat(a.state,", ").concat(a.postalCode),l=Object(c.a)({},a,{address:t,image:j,price:100*a.price});delete l.city,delete l.state,delete l.postalCode,F({variables:{input:l}})}}))}},f.a.createElement("div",null,f.a.createElement(L,{level:3,className:"host__form-title"},"Hi! Let's get started listing your place."),f.a.createElement(_,{type:"secondary"},"In this form, we'll collect some basic and additional information about your listing.")),f.a.createElement(S,{label:"Max # of Guests"},U("guests",{rules:[{required:!0,message:"Please enter a max number of guests!"}]})(f.a.createElement(s.a,{min:1,placeholder:"4"}))),f.a.createElement(S,{label:"Title",extra:"Max character count of 45"},U("title",{rules:[{required:!0,message:"Please enter a title for your listing!"}]})(f.a.createElement(o.a,{maxLength:45,placeholder:"The iconic and luxurious Bel-Air mansion"}))),f.a.createElement(S,{label:"Description of listing",extra:"Max character count of 400"},U("description",{rules:[{required:!0,message:"Please enter a description for your listing!"}]})(f.a.createElement(o.a.TextArea,{rows:3,maxLength:400,placeholder:"Modern, clean, and iconic home of the Fresh Prince. Situated in the heart of Bel-Air, Los Angeles."}))),f.a.createElement(S,{label:"Address"},U("address",{rules:[{required:!0,message:"Please enter a address for your listing!"}]})(f.a.createElement(o.a,{placeholder:"251 North Bristol Avenue"}))),f.a.createElement(S,{label:"City/Town"},U("city",{rules:[{required:!0,message:"Please enter a city (or region) for your listing!"}]})(f.a.createElement(o.a,{placeholder:"Los Angeles"}))),f.a.createElement(S,{label:"State/Province"},U("state",{rules:[{required:!0,message:"Please enter a state (or province) for your listing!"}]})(f.a.createElement(o.a,{placeholder:"California"}))),f.a.createElement(S,{label:"Zip/Postal Code"},U("postalCode",{rules:[{required:!0,message:"Please enter a zip (or postal) code for your listing!"}]})(f.a.createElement(o.a,{placeholder:"Please enter a zip code for your listing!"}))),f.a.createElement(S,{label:"Image",extra:"Images have to be under 1MB in size and of type JPG or PNG"},f.a.createElement("div",{className:"host__form-image-upload"},U("image",{rules:[{required:!0,message:"Please enter provide an image for your listing!"}]})(f.a.createElement(r.a,{name:"image",listType:"picture-card",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:G,onChange:function(e){var a=e.file;"uploading"!==a.status?"done"===a.status&&a.originFileObj&&function(e,a){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){a(t.result)}}(a.originFileObj,(function(e){T(e),P(!1)})):P(!0)}},j?f.a.createElement("img",{src:j,alt:"Listing"}):f.a.createElement("div",null,f.a.createElement(i.a,{type:y?"loading":"plus"}),f.a.createElement("div",{className:"ant-upload-text"},"Upload")))))),f.a.createElement(S,{label:"Price",extra:"All prices in $USD/day"},U("price",{rules:[{required:!0,message:"Please enter a price for your listing!"}]})(f.a.createElement(s.a,{min:0,placeholder:"120"}))),f.a.createElement(S,{label:"Wifi"},U("wifi",{rules:[{required:!0,message:"Please select Wifi Availablity!"}]})(f.a.createElement(n.a.Group,null,f.a.createElement(n.a.Button,{value:!0},f.a.createElement("span",null,"Available")),f.a.createElement(n.a.Button,{value:!1},f.a.createElement("span",null,"None"))))),f.a.createElement(S,{label:"Parking"},U("parking",{rules:[{required:!0,message:"Please select Parking Availablity!"}]})(f.a.createElement(n.a.Group,null,f.a.createElement(n.a.Button,{value:!0},f.a.createElement("span",null,"Available")),f.a.createElement(n.a.Button,{value:!1},f.a.createElement("span",null,"None"))))),f.a.createElement(S,{label:"Pool"},U("pool",{rules:[{required:!0,message:"Please select Pool Availablity!"}]})(f.a.createElement(n.a.Group,null,f.a.createElement(n.a.Button,{value:!0},f.a.createElement("span",null,"Available")),f.a.createElement(n.a.Button,{value:!1},f.a.createElement("span",null,"None"))))),f.a.createElement(S,{label:"Air Conditioner"},U("airCon",{rules:[{required:!0,message:"Please select Air Conditioner Availablity!"}]})(f.a.createElement(n.a.Group,null,f.a.createElement(n.a.Button,{value:!0},f.a.createElement("span",null,"Available")),f.a.createElement(n.a.Button,{value:!1},f.a.createElement("span",null,"None"))))),f.a.createElement(S,null,f.a.createElement(l.a,{type:"primary",htmlType:"submit"},"Submit"))))}));a.default=T}}]);
//# sourceMappingURL=12.cbbcd8a5.chunk.js.map