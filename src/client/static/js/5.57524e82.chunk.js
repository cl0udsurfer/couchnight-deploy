(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{493:function(e,n,t){"use strict";var r=t(0);n.a=function(){Object(r.useLayoutEffect)((function(){window.scrollTo(0,0)}),[])}},494:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"d",(function(){return l})),t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return f}));var r=t(7),a=t(44);function i(){var e=Object(r.a)(["\n  query AuthUrl {\n    authUrl\n  }\n"]);return i=function(){return e},e}var o=Object(a.b)(i());function c(){var e=Object(r.a)(["\n  query User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\n    user(id: $id) {\n      id\n      name\n      avatar\n      contact\n      hasWallet\n      income\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          listing {\n            id\n            title\n            image {\n              url\n            }\n            address\n            price\n          }\n          checkIn\n          checkOut\n        }\n      }\n      listings(limit: $limit, page: $listingsPage) {\n        total\n        result {\n          id\n          title\n          image {\n            url\n          }\n          address\n          price\n        }\n      }\n    }\n  }\n"]);return c=function(){return e},e}var l=Object(a.b)(c());function s(){var e=Object(r.a)(["\n  query Listing($id: ID!, $bookingsPage: Int!, $limit: Int!) {\n    listing(id: $id) {\n      id\n      title\n      description\n      image {\n        url\n      }\n      host {\n        id\n        name\n        avatar\n        hasWallet\n      }\n      address\n      city\n      admin\n      country\n      location {\n        lat\n        lng\n      }\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          tenant {\n            id\n            name\n            avatar\n          }\n          checkIn\n          checkOut\n        }\n      }\n      bookingsIndex\n      price\n      guests\n      wifi\n      airCon\n      pool\n      parking\n    }\n  }\n"]);return s=function(){return e},e}var u=Object(a.b)(s());function p(){var e=Object(r.a)(["\n  query Listings(\n    $location: String\n    $filter: ListingsFilter!\n    $limit: Int!\n    $page: Int!\n  ) {\n    listings(location: $location, filter: $filter, limit: $limit, page: $page) {\n      region\n      location {\n        lat\n        lng\n      }\n      total\n      result {\n        id\n        title\n        image {\n          url\n        }\n        address\n        admin\n        country\n        location {\n          lat\n          lng\n        }\n        price\n      }\n    }\n  }\n"]);return p=function(){return e},e}var f=Object(a.b)(p())},497:function(e,n,t){"use strict";t(30),t(498)},498:function(e,n,t){},499:function(e,n,t){"use strict";t(30),t(500)},500:function(e,n,t){},503:function(e,n,t){"use strict";var r=t(0),a=t(6),i=t.n(a),o=t(47);function c(){return(c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};n.a=function(e){return r.createElement(o.a,null,(function(n){var t,a=n.getPrefixCls,o=e.prefixCls,u=e.type,p=void 0===u?"horizontal":u,f=e.orientation,d=void 0===f?"center":f,g=e.className,m=e.children,h=e.dashed,b=s(e,["prefixCls","type","orientation","className","children","dashed"]),y=a("divider",o),v=d.length>0?"-".concat(d):d,x=i()(g,y,"".concat(y,"-").concat(p),(l(t={},"".concat(y,"-with-text").concat(v),m),l(t,"".concat(y,"-dashed"),!!h),t));return r.createElement("div",c({className:x},b,{role:"separator"}),m&&r.createElement("span",{className:"".concat(y,"-inner-text")},m))}))}},508:function(e,n,t){"use strict";var r=t(0),a=t(6),i=t.n(a),o=t(28),c=t(24),l=t(19),s=t(47);function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function g(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,n){return!n||"object"!==u(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,n){return(y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var v=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},x=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&y(e,n)}(l,e);var n,t,a,o,c=(n=l,function(){var e,t=b(n);if(h()){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m(this,e)});function l(){var e;return d(this,l),(e=c.apply(this,arguments)).handleClick=function(){var n=e.props,t=n.checked,r=n.onChange;r&&r(!t)},e.renderCheckableTag=function(n){var t,a=n.getPrefixCls,o=e.props,c=o.prefixCls,l=o.className,s=o.checked,u=v(o,["prefixCls","className","checked"]),d=a("tag",c),g=i()(d,(f(t={},"".concat(d,"-checkable"),!0),f(t,"".concat(d,"-checkable-checked"),s),t),l);return delete u.onChange,r.createElement("span",p({},u,{className:g,onClick:e.handleClick}))},e}return t=l,(a=[{key:"render",value:function(){return r.createElement(s.a,null,this.renderCheckableTag)}}])&&g(t.prototype,a),o&&g(t,o),l}(r.Component),O=t(31),w=Object(O.a)("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),j=t(23),E=t(210);function k(e){return(k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function C(){return(C=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function S(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,n){return!n||"object"!==k(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,n){return($=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var L=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},N=new RegExp("^(".concat(w.join("|"),")(-inverse)?$")),R=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&$(e,n)}(p,e);var n,t,a,c,u=(n=p,function(){var e,t=_(n);if(T()){var r=_(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return I(this,e)});function p(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,p),(n=u.call(this,e)).state={visible:!0},n.handleIconClick=function(e){e.stopPropagation(),n.setVisible(!1,e)},n.renderTag=function(e){var t=n.props,a=t.children,i=L(t,["children"]),c="onClick"in i||a&&"a"===a.type,l=Object(o.a)(i,["onClose","afterClose","color","visible","closable","prefixCls"]);return c?r.createElement(E.a,null,r.createElement("span",C({},l,{className:n.getTagClassName(e),style:n.getTagStyle()}),a,n.renderCloseIcon())):r.createElement("span",C({},l,{className:n.getTagClassName(e),style:n.getTagStyle()}),a,n.renderCloseIcon())},Object(j.a)(!("afterClose"in e),"Tag","'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version."),n}return t=p,c=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:null}}],(a=[{key:"getTagStyle",value:function(){var e=this.props,n=e.color,t=e.style,r=this.isPresetColor();return C({backgroundColor:n&&!r?n:void 0},t)}},{key:"getTagClassName",value:function(e){var n,t=e.getPrefixCls,r=this.props,a=r.prefixCls,o=r.className,c=r.color,l=this.state.visible,s=this.isPresetColor(),u=t("tag",a);return i()(u,(P(n={},"".concat(u,"-").concat(c),s),P(n,"".concat(u,"-has-color"),c&&!s),P(n,"".concat(u,"-hidden"),!l),n),o)}},{key:"setVisible",value:function(e,n){var t=this.props,r=t.onClose,a=t.afterClose;r&&r(n),a&&!r&&a(),n.defaultPrevented||"visible"in this.props||this.setState({visible:e})}},{key:"isPresetColor",value:function(){var e=this.props.color;return!!e&&N.test(e)}},{key:"renderCloseIcon",value:function(){return this.props.closable?r.createElement(l.a,{type:"close",onClick:this.handleIconClick}):null}},{key:"render",value:function(){return r.createElement(s.a,null,this.renderTag)}}])&&S(t.prototype,a),c&&S(t,c),p}(r.Component);R.CheckableTag=x,R.defaultProps={closable:!1},Object(c.polyfill)(R);n.a=R},632:function(e,n,t){"use strict";t.r(n);var r=t(160),a=t.n(r),i=t(198),o=t(33),c=(t(101),t(29)),l=t(0),s=t.n(l),u=t(26),p=t(73),f=t(86),d=t(199),g=t(90),m=t(494),h=t(45),b=t(493),y=(t(280),t(164)),v=(t(279),t(196)),x=v.a.Paragraph,O=v.a.Title,w=function(e){e.userBookings;var n=e.bookingsPage,t=e.setBookingsPage,r=e.limit;return e.viewerIsUser?s.a.createElement(l.Fragment,null,s.a.createElement(O,{level:4},"Bookings"),s.a.createElement(x,null,"This section highlights the bookings you've made, and the check-in/check-out dates associated with said bookings."),s.a.createElement(y.a,{grid:{gutter:8,xs:1,sm:2,lg:4},dataSource:[],locale:{emptyText:"You haven't made any bookings!"},pagination:{position:"top",current:n,total:0,defaultPageSize:r,hideOnSinglePage:!0,showLessItems:!0,onChange:function(e){return t(e)}},renderItem:function(e){return s.a.createElement(y.a.Item,null,s.a.createElement(h.o,{listing:e}))}})):s.a.createElement("h1",null,"You are not allowed to access this page")},j=v.a.Title,E=function(e){var n=e.viewerIsUser,t=e.user;return n?s.a.createElement("h1",null,"You cannot contact yourself"):s.a.createElement("div",null,s.a.createElement(j,{level:3},"Email: ",t.contact))},k=v.a.Paragraph,P=v.a.Title,C=function(e){var n=e.userListings,t=e.listingsPage,r=e.setListingsPage,a=e.limit,i=n.total,o=n.result;return s.a.createElement(l.Fragment,null,s.a.createElement(P,{level:4},"Listings"),s.a.createElement(k,null,"This section highlights the listings this user currently hosts and has made available for bookings."),s.a.createElement(y.a,{grid:{gutter:8,xs:1,sm:2,lg:4},dataSource:o,locale:{emptyText:"User doesn't have any listings yet!"},pagination:{position:"top",current:t,total:i,defaultPageSize:a,hideOnSinglePage:!0,showLessItems:!0,onChange:function(e){return r(e)}},renderItem:function(e){return s.a.createElement(y.a.Item,null,s.a.createElement(h.o,{listing:e}))}}))},S=(t(197),t(99)),I=(t(497),t(508)),T=(t(499),t(503)),_=t(81),$=t(102),L=t(53),N=t(7),R=t(8),B=t(5);function U(){var e=Object(N.a)(["\n  border-radius: 3px;\n  padding: 30px;\n  box-sizing: border-box;\n  background-color: ",";\n\n  > h3 {\n    margin-top: 30px;\n    &:first-child {\n      margin-top: 0;\n    }\n  }\n"]);return U=function(){return e},e}function F(){var e=Object(N.a)(["\n  padding: 25px 0 30px;\n\n  > h2 {\n    color: ",";\n    font-size: 25px;\n    line-height: 30px;\n    font-weight: 700;\n    margin-bottom: 22px;\n\n    @media only screen and (max-width: 480px) {\n      font-size: 17px;\n      line-height: 21px;\n    }\n  }\n\n  > .ant-row {\n    > div {\n      @media only screen and (max-width: 991px) {\n        margin-bottom: 40px;\n      }\n    }\n  }\n"]);return F=function(){return e},e}function z(){var e=Object(N.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 30px;\n  padding-right: 30px;\n  margin-bottom: 30px;\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n\n  @media only screen and (min-width: 1441px) {\n    padding-left: 70px;\n    padding-right: 70px;\n  }\n\n  @media only screen and (max-width: 667px) {\n    flex-wrap: wrap;\n  }\n\n  @media only screen and (max-width: 480px) {\n    flex-direction: column;\n    padding-left: 25px;\n    padding-right: 25px;\n    padding-bottom: 20px;\n  }\n\n  .add_card {\n    display: inline-flex;\n    align-items: center;\n    padding: 11px 22px;\n    border-radius: 3px;\n    font-size: 15px;\n    text-transform: capitalize;\n    color: ",";\n    background-color: ",";\n    transition: all 0.3s ease;\n\n    @media only screen and (max-width: 480px) {\n      width: 100%;\n      display: flex;\n      justify-content: center;\n    }\n\n    svg {\n      font-size: 22px;\n      margin-right: 5px;\n      margin-left: -5px;\n    }\n\n    &:hover,\n    &:focus {\n      background-color: ",";\n    }\n  }\n\n  .ant-menu {\n    border: 0;\n    display: flex;\n    align-items: center;\n\n    @media only screen and (max-width: 480px) {\n      flex-direction: column;\n      width: 100%;\n      padding-bottom: 10px;\n    }\n\n    li {\n      margin: 0 !important;\n      height: auto;\n      line-height: 1;\n\n      @media only screen and (max-width: 480px) {\n        width: 100%;\n        padding: 0;\n      }\n\n      &.ant-menu-item-selected {\n        background-color: transparent;\n      }\n\n      &:first-child {\n        padding-left: 0;\n      }\n\n      &:last-child {\n        padding-right: 0;\n      }\n\n      a {\n        font-size: 15px;\n        line-height: 25px;\n        padding: 23px 8px;\n        color: ",";\n        position: relative;\n\n        @media only screen and (max-width: 480px) {\n          padding: 15px 10px;\n        }\n\n        &::after {\n          content: '';\n          display: block;\n          width: 0%;\n          height: 2px;\n          border-radius: 4px;\n          position: absolute;\n          left: 0;\n          bottom: 0;\n          opacity: 0;\n          visibility: hidden;\n          background-color: ",";\n          transition: all 0.3s ease;\n        }\n\n        &.active {\n          font-weight: 700;\n\n          &::after {\n            opacity: 1;\n            visibility: visible;\n            width: 100%;\n          }\n        }\n\n        &:hover {\n          &::after {\n            opacity: 1;\n            visibility: visible;\n            width: 100%;\n          }\n        }\n\n        &:hover,\n        &:focus {\n          text-decoration: none;\n        }\n      }\n    }\n  }\n"]);return z=function(){return e},e}function D(){var e=Object(N.a)(["\n  flex-shrink: 0;\n\n  a {\n    margin-right: 30px;\n  }\n\n  svg {\n    width: 18px;\n    height: 18px;\n\n    fill: ",";\n    cursor: pointer;\n    transition: all 0.2s ease;\n\n    &:first-child {\n      margin-left: 0;\n    }\n\n    &:last-child {\n      margin-right: 0;\n    }\n\n    &.twitter {\n      &:hover {\n        fill: ",";\n      }\n    }\n\n    &.facebook {\n      &:hover {\n        fill: ",";\n      }\n    }\n\n    &.instagram {\n      &:hover {\n        fill: ",";\n      }\n    }\n  }\n"]);return D=function(){return e},e}function W(){var e=Object(N.a)(["\n  > * {\n    max-width: 864px;\n    width: 100%;\n  }\n\n  h2 {\n    font-size: 25px;\n    line-height: 28px;\n    font-weight: 700;\n    color: ",";\n    margin-bottom: 23px;\n    @media only screen and (max-width: 480px) {\n      font-size: 22px;\n      margin-bottom: 15px;\n    }\n  }\n\n  p {\n    font-size: 15px;\n    line-height: 25px;\n    color: ",";\n    margin-bottom: 30px;\n  }\n"]);return W=function(){return e},e}function Y(){var e=Object(N.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n\n  @media only screen and (max-width: 667px) {\n    flex-direction: column;\n    justify-content: flex-start;\n    padding-bottom: 30px;\n  }\n"]);return Y=function(){return e},e}function q(){var e=Object(N.a)(["\n  width: 180px;\n  height: 180px;\n  border-radius: 3px;\n  overflow: hidden;\n  border: 5px solid ",";\n  box-shadow: 0 3px 6px ",";\n  margin-bottom: 27px;\n  @media only screen and (max-width: 480px) {\n    width: 150px;\n    height: 150px;\n  }\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]);return q=function(){return e},e}function V(){var e=Object(N.a)(["\n  margin-top: -139px;\n  @media only screen and (max-width: 480px) {\n    margin-top: -120px;\n  }\n\n  button {\n    width: 200px;\n  }\n"]);return V=function(){return e},e}function H(){var e=Object(N.a)(["\n  height: 300px;\n  @media only screen and (max-width: 480px) {\n    height: 150px;\n  }\n"]);return H=function(){return e},e}function J(){var e=Object(N.a)([""]);return J=function(){return e},e}var A=R.d.div(J()),Q=R.d.div(H()),Z=R.d.div(V()),G=R.d.div(q(),Object(B.a)("color.1","#ffffff"),Object(B.a)("boxShadow.1","rgba(26, 68, 116, 0.16)")),K=R.d.div(Y()),M=R.d.div(W(),Object(B.a)("text.0","#2C2C2C"),Object(B.a)("text.0","#2C2C2C")),X=(R.d.div(D(),Object(B.a)("color.6","#273343"),Object(B.a)("color.8","#55ADEE"),Object(B.a)("color.7","#3b5998"),Object(B.a)("color.12","#e4405f")),R.d.div(z(),Object(B.a)("border.3","#E6E6E6"),Object(B.a)("border.3","#E6E6E6"),Object(B.a)("color.1","#ffffff"),Object(B.a)("primary.0","#008489"),Object(B.a)("primary.1","#399C9F"),Object(B.a)("text.0","#2C2C2C"),Object(B.a)("primary.0","#008489"))),ee=(R.d.div(F(),Object(B.a)("text.0","#2C2C2C")),R.d.div(U(),Object(B.a)("color.2","#F7F7F7")),A),ne=v.a.Text,te=v.a.Title,re=v.a.Paragraph,ae=function(e){var n=e.user,t=e.viewerIsUser,r=e.viewer,a=e.setViewer,i=e.handleUserRefetch,c=Object(l.useState)({stripeBtnLoading:!1}),u=Object(o.a)(c,2),p=u[0],d=u[1],g=Object(f.b)($.c,{onCompleted:function(e){e&&e.disconnectStripe&&(a(Object(_.a)({},r,{hasWallet:e.disconnectStripe.hasWallet})),Object(L.b)("You've successfully disconnected from Stripe!","You'll have to reconnect with Stripe to continue to create listings."),i())},onError:function(){Object(L.a)("Sorry! We weren't able to disconnect you from Stripe. Please try again later!")}}),m=Object(o.a)(g,2),b=m[0],y=m[1].loading;return s.a.createElement(l.Fragment,null,s.a.createElement(Q,{style:{background:"url(".concat("https://res.cloudinary.com/dj7nklpkt/image/upload/v1586450952/brown-wooden-center-table-584399_1_au1xgk.jpg",") center center / cover no-repeat")}}),s.a.createElement(Z,null,s.a.createElement(h.c,{fluid:!0},s.a.createElement(G,null,s.a.createElement(h.h,{src:n.avatar,alt:"Profile Pic"})),s.a.createElement(K,null,s.a.createElement(M,null,s.a.createElement(h.f,{content:n.name}),t&&s.a.createElement(l.Fragment,null,s.a.createElement(T.a,null),s.a.createElement(te,{level:4},"Payment Details"),n.hasWallet?s.a.createElement(s.a.Fragment,null,s.a.createElement(re,null,s.a.createElement(I.a,{color:"green"},"Stripe Registered")),s.a.createElement(re,null,"Income Earned:"," ",s.a.createElement(ne,{strong:!0},n.income?"$".concat(Object(L.c)(n.income)):"$0")),s.a.createElement(S.a,{type:"primary",className:"user-profile__details-cta",loading:y,onClick:function(){return b()}},"Disconnect Stripe"),s.a.createElement(re,{type:"secondary"},"By disconnecting, you won't be able to receive"," ",s.a.createElement(ne,{strong:!0},"any further payments"),". This will prevent users from booking listings that you might have already created.")):s.a.createElement(s.a.Fragment,null,s.a.createElement(re,{strong:!0},"Interested in becoming a CouchNight Host? Register with your Stripe account!"),s.a.createElement("div",{style:{marginTop:"30px"}},s.a.createElement(S.a,{type:"primary",size:"large",className:"user-profile__details-cta",onClick:function(){d(Object(_.a)({},p,{stripeBtnLoading:!0})),setTimeout((function(){d(Object(_.a)({},p,{stripeBtnLoading:!1}))}),2e3),window.location.href="https://connect.stripe.com/oauth/authorize?response_type=code&client_id=ca_HTFZDB9aQCBddvqd4FpLLJSsjpiI3YS8&scope=read_write"},loading:p.stripeBtnLoading},"Connect with Stripe"),s.a.createElement("div",{style:{marginTop:"5px"}},s.a.createElement(re,{type:"secondary"},"CoughtNight uses Stripe to help transfer your earnings in a secure and trusted manner."))))))))))},ie=function(e){var n=e.viewerIsUser,t=e.match;return s.a.createElement(X,null,s.a.createElement(c.a,null,s.a.createElement(c.a.Item,{key:"0"},s.a.createElement(u.c,{exact:!0,to:"".concat(t.url)},"Listings")),n?s.a.createElement(c.a.Item,{key:"1"},s.a.createElement(u.c,{to:"".concat(t.url,"/bookings")},"Bookings")):s.a.createElement(c.a.Item,{key:"1"},s.a.createElement(u.c,{to:"".concat(t.url,"/contact")},"Contact"))),n&&s.a.createElement(u.b,{className:"add_card",to:"/host"},s.a.createElement(d.a,null)," Host"))},oe=function(e){var n=e.match,t=e.userListings,r=e.userBookings,a=e.listingsPage,i=e.setListingsPage,o=e.bookingsPage,c=e.setBookingsPage,l=e.viewerIsUser,u=e.limit,f=e.user;return s.a.createElement(h.c,{fluid:!0},s.a.createElement(p.b,{exact:!0,path:"".concat(n.path),render:function(e){return s.a.createElement(C,Object.assign({userListings:t,listingsPage:a,setListingsPage:i,limit:u},e))}}),s.a.createElement(p.b,{path:"".concat(n.path,"/bookings"),render:function(e){return s.a.createElement(w,Object.assign({userBookings:r,bookingsPage:o,setBookingsPage:c,viewerIsUser:l,limit:u},e))}}),s.a.createElement(p.b,{path:"".concat(n.path,"/contact"),render:function(e){return s.a.createElement(E,{user:f,viewerIsUser:l})}}))};n.default=function(e){Object(b.a)();var n=Object(l.useContext)(g.a),t=n.viewer,r=n.setViewer,c=Object(l.useState)(1),u=Object(o.a)(c,2),p=u[0],d=u[1],y=Object(l.useState)(1),v=Object(o.a)(y,2),x=v[0],O=v[1],w=Object(f.c)(m.d,{variables:{id:e.match.params.id,bookingsPage:x,listingsPage:p,limit:8}}),j=w.data,E=w.loading,k=w.error,P=w.refetch,C=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=j?j.user:null,I=t.id===e.match.params.id,T=S?S.listings:null,_=S?S.bookings:null,$=new URL(window.location.href).searchParams.get("stripe_error")?s.a.createElement(h.d,{description:"We had an issue connecting with Stripe. Please try again soon."}):null;return E?s.a.createElement(h.n,null):k?s.a.createElement(l.Fragment,null,s.a.createElement(h.d,{description:"This user may not exist or we've encountered an error. Please try again soon."}),s.a.createElement(h.n,null)):s.a.createElement(ee,null,$,s.a.createElement(ae,{user:S,viewerIsUser:I,viewer:t,setViewer:r,handleUserRefetch:C}),s.a.createElement(l.Fragment,null,s.a.createElement(ie,Object.assign({user:S,viewerIsUser:I},e)),s.a.createElement(oe,Object.assign({user:S,userListings:T,userBookings:_,listingsPage:p,setListingsPage:d,bookingsPage:x,setBookingsPage:O,viewerIsUser:I,limit:8},e))))}}}]);
//# sourceMappingURL=5.57524e82.chunk.js.map